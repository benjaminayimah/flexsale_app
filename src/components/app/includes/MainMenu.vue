<template>
<ul id="main_menu">
    <li>
        <router-link :to="{ name: 'Dashboard'}">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 21">
                    <path  d="M17.5,19.5a2,2,0,0,0,2-2V14a2,2,0,0,0-2-2H15.166a2,2,0,0,0-2,2v3.5a2,2,0,0,0,2,2H17.5m-11.667,0a2,2,0,0,0,2-2V16.334a2,2,0,0,0-2-2H3.5a2,2,0,0,0-2,2V17.5a2,2,0,0,0,2,2H5.834m0-10.5a2,2,0,0,0,2-2V3.5a2,2,0,0,0-2-2H3.5a2,2,0,0,0-2,2V7a2,2,0,0,0,2,2H5.834M17.5,6.667a2,2,0,0,0,2-2V3.5a2,2,0,0,0-2-2H15.166a2,2,0,0,0-2,2V4.666a2,2,0,0,0,2,2H17.5M17.5,21H15.166a3.5,3.5,0,0,1-3.5-3.5V14a3.5,3.5,0,0,1,3.5-3.5H17.5A3.5,3.5,0,0,1,21,14v3.5A3.5,3.5,0,0,1,17.5,21ZM5.834,21H3.5A3.5,3.5,0,0,1,0,17.5V16.334a3.5,3.5,0,0,1,3.5-3.5H5.834a3.5,3.5,0,0,1,3.5,3.5V17.5A3.5,3.5,0,0,1,5.834,21Zm0-10.5H3.5A3.5,3.5,0,0,1,0,7V3.5A3.5,3.5,0,0,1,3.5,0H5.834a3.5,3.5,0,0,1,3.5,3.5V7A3.5,3.5,0,0,1,5.834,10.5ZM17.5,8.167H15.166a3.5,3.5,0,0,1-3.5-3.5V3.5a3.5,3.5,0,0,1,3.5-3.5H17.5A3.5,3.5,0,0,1,21,3.5V4.666A3.5,3.5,0,0,1,17.5,8.167Z"/>
                </svg>
            </div>
            <span v-if="getDesktop">Home</span>
        </router-link>
        <label v-if="getTablet">Home</label>
    </li>
    <li>
        <router-link :to="{ name: 'Products', params: { id: 'all' , name: 'products'} }">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 21 21.001">
                    <path d="M-4164.91-223.32-4175-233.41V-243.5h10.09l10.09,10.09a2.786,2.786,0,0,1,.819,1.98,2.786,2.786,0,0,1-.819,1.98l-6.131,6.13a2.777,2.777,0,0,1-1.979.82A2.783,2.783,0,0,1-4164.91-223.32Zm-8.69-10.67,9.681,9.679a1.393,1.393,0,0,0,.99.411,1.4,1.4,0,0,0,.99-.411l6.129-6.13a1.393,1.393,0,0,0,.41-.99,1.391,1.391,0,0,0-.41-.99l-9.679-9.679h-8.111Zm2.1-3.21a2.8,2.8,0,0,1,2.8-2.8,2.8,2.8,0,0,1,2.8,2.8,2.8,2.8,0,0,1-2.8,2.8A2.8,2.8,0,0,1-4171.5-237.2Zm1.4,0a1.4,1.4,0,0,0,1.4,1.4,1.4,1.4,0,0,0,1.4-1.4,1.4,1.4,0,0,0-1.4-1.4A1.4,1.4,0,0,0-4170.1-237.2Z" transform="translate(4175 243.5)"/>
                </svg>
            </div>
            <span v-if="getDesktop">Products</span>
        </router-link>
        <label v-if="getTablet">Products</label>
    </li>
    <li>
        <router-link to="/discounts">
            <div>
                 <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22.5 22.5">
                    <path d="M-4152.781-279.75a4.036,4.036,0,0,1-4.031-4.031,4.036,4.036,0,0,1,4.031-4.031,4.036,4.036,0,0,1,4.031,4.031A4.036,4.036,0,0,1-4152.781-279.75Zm0-6.563a2.534,2.534,0,0,0-2.531,2.531,2.534,2.534,0,0,0,2.531,2.531,2.534,2.534,0,0,0,2.531-2.531A2.534,2.534,0,0,0-4152.781-286.313Zm-16.407,5.25a.748.748,0,0,1-.53-.22.747.747,0,0,1-.22-.53.748.748,0,0,1,.22-.53l18.375-18.375a.75.75,0,0,1,1.061,0,.747.747,0,0,1,.22.53.748.748,0,0,1-.22.53l-18.375,18.375A.748.748,0,0,1-4169.188-281.063Zm1.969-13.125a4.036,4.036,0,0,1-4.031-4.031,4.036,4.036,0,0,1,4.031-4.031,4.036,4.036,0,0,1,4.031,4.031A4.036,4.036,0,0,1-4167.219-294.188Zm0-6.563a2.534,2.534,0,0,0-2.531,2.531,2.534,2.534,0,0,0,2.531,2.531,2.534,2.534,0,0,0,2.531-2.531A2.534,2.534,0,0,0-4167.219-300.75Z" transform="translate(4171.25 302.25)"/>
                </svg>
            </div>
            <span v-if="getDesktop">Discounts</span>
        </router-link>
        <label v-if="getTablet">Discounts</label>
    </li>
    <li>
        <router-link to="/suppliers">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16.144 19.065">
                    <path d="M-4144.75-98.349v-.666a8.081,8.081,0,0,1,8.072-8.071,8.08,8.08,0,0,1,8.072,8.071v.666Zm1.363-1.33h13.418a6.751,6.751,0,0,0-6.709-6.077A6.751,6.751,0,0,0-4143.387-99.68Zm2.787-13.523a4.217,4.217,0,0,1,4.211-4.212,4.217,4.217,0,0,1,4.212,4.212,4.217,4.217,0,0,1-4.212,4.213A4.218,4.218,0,0,1-4140.6-113.2Zm1.33,0a2.885,2.885,0,0,0,2.881,2.882,2.886,2.886,0,0,0,2.883-2.882,2.885,2.885,0,0,0-2.883-2.881A2.885,2.885,0,0,0-4139.271-113.2Z" transform="translate(4144.75 117.414)"/>
                </svg>
            </div>
            <span v-if="getDesktop">My Suppliers</span>
        </router-link>
        <label v-if="getTablet">Suppliers</label>
    </li>
    <li>
        <router-link :to="{name: 'Tags'}">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 0 12.468 8.124">
                    <path d="M-1997.337-3040.028h-5.532a2.5,2.5,0,0,1-1.412-.4,1.748,1.748,0,0,1-.587-1.487v-4.467a1.981,1.981,0,0,1,.55-1.286,2.435,2.435,0,0,1,1.361-.48h5.549a3.961,3.961,0,0,1,1.148.176,2.666,2.666,0,0,1,.919.564l2.57,2.571a1.316,1.316,0,0,1,.366.786.975.975,0,0,1-.395.744l-2.416,2.416a2.592,2.592,0,0,1-.963.684A3.443,3.443,0,0,1-1997.337-3040.028Zm-5.481-1h5.481a2.552,2.552,0,0,0,.8-.118,1.619,1.619,0,0,0,.568-.408l.032-.035,2.493-2.493a.786.786,0,0,0-.057-.075l-2.542-2.542a1.7,1.7,0,0,0-.546-.333,3,3,0,0,0-.82-.121h-5.514a1.445,1.445,0,0,0-.728.224,1,1,0,0,0-.219.578l0,4.5a.808.808,0,0,0,.184.615,1.531,1.531,0,0,0,.818.206h.051Z" transform="translate(2004.873 3048.152)"/>
                </svg>
            </div>
            <span v-if="getDesktop">Tags</span>
        </router-link>
        <label v-if="getTablet">Tags</label>
    </li>
    <li>
        <router-link :to="'/sales-record/filter/todays-sales'">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 22.638 22.638">
                    <path d="M-4170.306-473.723h0a2.767,2.767,0,0,1-2.763-2.764v-8.8h3.01v1.5h-1.51v7.3a1.266,1.266,0,0,0,1.264,1.264,1.265,1.265,0,0,0,1.262-1.264v-19.875h18.612v19.875a2.766,2.766,0,0,1-2.763,2.764Zm2.764-2.764a2.746,2.746,0,0,1-.307,1.264h14.655a1.265,1.265,0,0,0,1.263-1.264v-18.375h-15.611Zm2.474-2.236v-1.5h10.5v1.5Zm0-4v-1.5h10.5v1.5Zm0-4v-5.5h10.5v5.5Zm1.5-1.5h7.5v-2.5h-7.5Z" transform="translate(4173.069 496.362)"/>
                </svg>
            </div>
            <span v-if="getDesktop">Records</span>
        </router-link>
        <label v-if="getTablet">Records</label>
    </li>
    <li>
        <a id="more" href="#" @click.prevent="showthisMenu('more')">
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path d="M-4181.094-559.625a12,12,0,0,1,12-12,12,12,0,0,1,12,12,12,12,0,0,1-12,12A12,12,0,0,1-4181.094-559.625Zm1.5,0a10.512,10.512,0,0,0,10.5,10.5,10.513,10.513,0,0,0,10.5-10.5,10.513,10.513,0,0,0-10.5-10.5A10.512,10.512,0,0,0-4179.593-559.625Zm15.059-.46a1.414,1.414,0,0,1,1.415-1.414,1.414,1.414,0,0,1,1.415,1.414,1.414,1.414,0,0,1-1.415,1.414A1.414,1.414,0,0,1-4164.535-560.085Zm-5.74,0a1.414,1.414,0,0,1,1.415-1.414,1.414,1.414,0,0,1,1.415,1.414,1.414,1.414,0,0,1-1.415,1.414A1.414,1.414,0,0,1-4170.274-560.085Zm-5.726,0a1.414,1.414,0,0,1,1.415-1.414,1.415,1.415,0,0,1,1.416,1.414,1.415,1.415,0,0,1-1.416,1.414A1.414,1.414,0,0,1-4176-560.085Z" transform="translate(4181.094 571.625)"/>
                </svg>
            </div>
            <span v-if="getDesktop">More</span>
        </a>
        <label v-if="getTablet">More</label>
    </li>
    <teleport v-if="showMenu" to="body">
        <backdrop @mousedown="showthisMenu('more')" />
        <div class="more" :style="{ left: getFloatingDiv.left+'px', top: getFloatingDiv.top-235+'px'}">
            <ul id="more_menu">
                <li @click="showthisMenu('more')">
                    <router-link :to="{ name: 'ProfileStoreDetails', params: { name: getUser.name }}">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 19.597 22.966">
                                <path d="M-155.951-501.122A24.73,24.73,0,0,1-165.3-502.7l-.445-.2v-.487a7.545,7.545,0,0,1,7.536-7.537h4.524a7.545,7.545,0,0,1,7.537,7.537v.487l-.445.2A24.73,24.73,0,0,1-155.951-501.122Zm-8.278-2.765a25.4,25.4,0,0,0,8.278,1.265,25.269,25.269,0,0,0,8.278-1.264,6.045,6.045,0,0,0-6.016-5.531h-4.524A6.044,6.044,0,0,0-164.229-503.888Zm8.278-8.169a5.28,5.28,0,0,1-4.043-2.066,6.889,6.889,0,0,1-1.609-4.315,5.658,5.658,0,0,1,5.651-5.651,5.658,5.658,0,0,1,5.651,5.651C-150.3-515.425-152.717-512.057-155.951-512.057Zm0-10.532a4.156,4.156,0,0,0-4.151,4.151,5.442,5.442,0,0,0,1.262,3.356,3.814,3.814,0,0,0,2.889,1.524,3.814,3.814,0,0,0,2.889-1.524,5.442,5.442,0,0,0,1.262-3.356A4.156,4.156,0,0,0-155.951-522.588Z" transform="translate(165.75 524.088)" fill="#212121"/>
                            </svg>
                        </div>
                        <span>Profile</span>
                    </router-link>
                </li>
                <li @click="showthisMenu('more')">
                    <router-link :to="{ name: 'Trash'}">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 21.5 23.166">
                                <path d="M-162.427-433a2.727,2.727,0,0,1-2.714-2.539l-.912-13.682,1.5-.1.912,13.683a1.222,1.222,0,0,0,1.217,1.138h9.118a1.222,1.222,0,0,0,1.217-1.139l.912-13.682,1.5.1-.912,13.682A2.727,2.727,0,0,1-153.309-433Zm-6.039-18v-1.5h6.4v-3.666h8.394v3.666h6.705v1.5Zm13.295-1.5v-2.165h-5.394v2.165Z" transform="translate(168.466 456.167)" fill="#212121"/>
                            </svg>
                        </div>
                        <span>Trash</span>
                    </router-link>
                </li>
                <hr>
                <li @click="showthisMenu('more')">
                    <router-link :to="{ name: 'Settings' }">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 23.5 23.5">
                                <path d="M-159.906-585.5l-.281-3.358a8.646,8.646,0,0,1-1.716-.714l-2.576,2.179-3.1-3.1,2.179-2.576a8.67,8.67,0,0,1-.711-1.714l-3.358-.281v-4.379l3.358-.281a8.71,8.71,0,0,1,.714-1.715l-2.179-2.575,3.1-3.1,2.576,2.18a8.675,8.675,0,0,1,1.714-.711l.281-3.359h4.379l.281,3.359a8.656,8.656,0,0,1,1.714.714l2.575-2.179,3.1,3.1-2.18,2.576a8.67,8.67,0,0,1,.711,1.714l3.359.281v4.379l-3.359.281a8.708,8.708,0,0,1-.714,1.714l2.18,2.575-3.1,3.1-2.576-2.179a8.668,8.668,0,0,1-1.714.711l-.281,3.361Zm-1.673-5.621a7.166,7.166,0,0,0,2.262.94l.536.122.256,3.06h1.62l.256-3.063.536-.122a7.18,7.18,0,0,0,2.26-.938l.465-.3,2.349,1.988,1.146-1.146-1.988-2.349.3-.465a7.174,7.174,0,0,0,.941-2.26l.121-.536,3.06-.256v-1.62l-3.06-.256-.121-.536a7.18,7.18,0,0,0-.938-2.26l-.3-.465,1.987-2.349-1.148-1.146-2.349,1.988-.465-.3a7.166,7.166,0,0,0-2.26-.941l-.536-.121-.256-3.06h-1.62l-.256,3.06-.536.121a7.182,7.182,0,0,0-2.26.938l-.465.3-2.348-1.987-1.147,1.147,1.988,2.349-.3.465a7.165,7.165,0,0,0-.941,2.26l-.121.536-3.06.256v1.62l3.06.256.121.536a7.161,7.161,0,0,0,.939,2.26l.294.465-1.987,2.349,1.145,1.146,2.349-1.988Zm.112-6.128a3.755,3.755,0,0,1,3.75-3.75,3.754,3.754,0,0,1,3.75,3.75,3.755,3.755,0,0,1-3.75,3.75A3.755,3.755,0,0,1-161.466-597.25Zm1.5,0a2.253,2.253,0,0,0,2.25,2.25,2.253,2.253,0,0,0,2.25-2.25,2.252,2.252,0,0,0-2.25-2.25A2.253,2.253,0,0,0-159.966-597.25Z" transform="translate(169.465 609)" fill="#212121"/>
                            </svg>
                        </div>
                        <span>Settings</span>
                    </router-link>
                </li>
            </ul>
        </div>
    </teleport>
</ul>
</template>
<script>
import { mapGetters } from 'vuex'
import Backdrop from './Backdrop.vue'
export default {
    computed: mapGetters(['getFloatingDiv', 'getMobile', 'getTablet', 'getDesktop', 'getUser']),
    components: { Backdrop },
    name: 'Main-menu',
    data() {
        return {
            showMenu: false
        }
    },
    methods: {
        showthisMenu(id) {
            let elem = document.getElementById(id)
            if(this.showMenu == false) {
                this.showMenu = true
                this.$store.commit('setDynamicFloatingDiv', elem)
            }else{
                this.showMenu = false
                this.$store.commit('reSetDynamicFloatingDiv', elem)
            }
        }
    }
}
</script>
<style scoped lang="scss">
.jc li a{
  justify-content: center;
}
hr{
  margin: 8px 20px;
}
ul{
    padding: 0;
    position: relative;
    margin: 0;
  }
li{
    list-style-type: none;
    position: relative;
    &:hover a{
        background-color: $dark-light;
    }
    &:hover label{
        left: 64px;
        visibility: visible;
        opacity: 1;
    }
}
li svg path {
    fill: $dark;
}
li label{
    font-size: 0.8rem;
    text-align: center;
    position: absolute;
    top: 0;
    padding: 15px  20px;
    box-shadow: 0 1px 15px 0 rgb(14 20 44 / 12%);
    background-color: $white-color;
    border-radius: 18px;
    left: 50px;
    visibility: hidden;
    transition: 0.2s linear all;
    opacity: 0;
}
.more{
    width: 220px;
    z-index: 101;
    position: fixed;
    background-color: $white-color;
    border-radius: 16px;
    box-shadow: 0 1px 15px 0 rgb(14 20 44 / 12%);
    padding: 15px;

}
#more_menu li a{
    padding: 15px 20px;
    font-size: 1rem;
}

</style>